{"ast":null,"code":"import _slicedToArray from\"/Users/carlossanchez/Documents/coding_dojo/mern_stack/mern_exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{useParams,useNavigate}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var styles={formContainer:{display:\"flex\",flexDirection:\"column\"},formItem:{marginTop:\"3px\"},formSubmit:{padding:\"5px\",marginTop:\"20px\"},splitForm:{display:\"flex\",justifyContent:\"space-between\",width:\"500px\"},topNav:{display:\"flex\",justifyContent:\"space-between\",paddingRight:\"145px\",alignItems:\"center\"},newAuthorLink:{color:\"blue\",textDecoration:\"underline\"},petDetails:{display:\"flex\"},likeArea:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",marginRight:\"400px\"}};var ViewPet=function ViewPet(){var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),temp=_useState2[0],setTemp=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),petName=_useState6[0],setPetName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),petType=_useState8[0],setPetType=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),petDescription=_useState10[0],setPetDescription=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),petSkills=_useState12[0],setPetSkills=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),petLikes=_useState14[0],setPetLikes=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),buttonDisabled=_useState16[0],setButtonDisabled=_useState16[1];useEffect(function(){axios.get(\"http://localhost:8080/api/pets/\".concat(id)).then(function(res){setPetName(res.data.petName);setPetType(res.data.petType);setPetDescription(res.data.petDescription);setPetSkills(res.data.petSkills);setTemp(res.data.petName);setPetLikes(res.data.petLikes);});},[]);var deletePet=function deletePet(idz){axios.delete(\"http://localhost:8080/api/pets/\".concat(idz)).then(function(res){console.log({deletedId:id});navigate(\"/\");}).catch(function(err){console.log(err);});};var likePet=function likePet(idz){var newLikes=petLikes+1;setPetLikes(newLikes);axios.put(\"http://localhost:8080/api/pets/\".concat(idz,\"/edit\"),{petLikes:newLikes}).then(function(res){console.log(res);setButtonDisabled(true);}).catch(function(err){console.log(err);setError(err.response.data.errors);console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.topNav,children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Details about \",temp]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){deletePet(id);},children:\"Adopt Pet\"})]}),/*#__PURE__*/_jsx(\"p\",{style:styles.newAuthorLink,onClick:function onClick(){navigate(\"/\");},children:\"Back home\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.petDetails,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Pet type:\\xA0 \"}),/*#__PURE__*/_jsx(\"h4\",{children:petType})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.petDetails,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Description:\\xA0\"}),/*#__PURE__*/_jsx(\"h4\",{children:petDescription})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.petDetails,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Skills: \\xA0\"}),/*#__PURE__*/_jsx(\"div\",{children:petSkills.map(function(each,idx){return/*#__PURE__*/_jsxs(\"h4\",{children:[\" \",each,\" \"]},idx);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.likeArea,children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){likePet(id);},disabled:buttonDisabled,children:\"Like Pet\"}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Likes: \",petLikes]})]})]});};export default ViewPet;","map":{"version":3,"names":["useState","useEffect","axios","useParams","useNavigate","jsxs","_jsxs","jsx","_jsx","styles","formContainer","display","flexDirection","formItem","marginTop","formSubmit","padding","splitForm","justifyContent","width","topNav","paddingRight","alignItems","newAuthorLink","color","textDecoration","petDetails","likeArea","marginRight","ViewPet","navigate","_useParams","id","_useState","_useState2","_slicedToArray","temp","setTemp","_useState3","_useState4","error","setError","_useState5","_useState6","petName","setPetName","_useState7","_useState8","petType","setPetType","_useState9","_useState10","petDescription","setPetDescription","_useState11","_useState12","petSkills","setPetSkills","_useState13","_useState14","petLikes","setPetLikes","_useState15","_useState16","buttonDisabled","setButtonDisabled","get","concat","then","res","data","deletePet","idz","delete","console","log","deletedId","catch","err","likePet","newLikes","put","response","errors","children","style","onClick","map","each","idx","disabled"],"sources":["/Users/carlossanchez/Documents/coding_dojo/mern_stack/mern_exam/client/src/components/viewPet.jsx"],"sourcesContent":["import {useState, useEffect} from \"react\";\nimport axios from \"axios\";\nimport {useParams, useNavigate} from \"react-router-dom\";\n\nconst styles = {\n    formContainer: {\n        display: \"flex\",\n        flexDirection: \"column\"\n    },\n    formItem: {\n        marginTop: \"3px\"\n    },\n    formSubmit: {\n        padding: \"5px\",\n        marginTop: \"20px\"\n    },\n    splitForm: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        width: \"500px\"\n    },\n    topNav: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        paddingRight: \"145px\",\n        alignItems: \"center\"\n    },\n    newAuthorLink: {\n        color: \"blue\",\n        textDecoration: \"underline\"\n    },\n    petDetails: {\n        display: \"flex\"\n    },\n    likeArea: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        marginRight: \"400px\"\n    }\n}\nconst ViewPet = () => {\n    const navigate = useNavigate()\n\n    const {id} = useParams()\n    const [temp, setTemp] = useState(\"\")\n    const [error, setError] = useState({})\n    const [petName, setPetName] = useState(\"\")\n    const [petType, setPetType] = useState(\"\")\n    const [petDescription, setPetDescription] = useState(\"\")\n    const [petSkills, setPetSkills] = useState([])\n    const [petLikes, setPetLikes] = useState(0)\n    const [buttonDisabled, setButtonDisabled] = useState(false)\n\n\n    useEffect(() => {\n        axios.get(`http://localhost:8080/api/pets/${id}`)\n            .then(res => {\n                setPetName(res.data.petName)\n                setPetType(res.data.petType)\n                setPetDescription(res.data.petDescription)\n                setPetSkills(res.data.petSkills)\n                setTemp(res.data.petName)\n                setPetLikes(res.data.petLikes)\n\n            })\n    }, []);\n\n    const deletePet = (idz) => {\n        axios.delete(`http://localhost:8080/api/pets/${idz}`)\n            .then(res => {\n                console.log({deletedId: id})\n                navigate(\"/\")\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }\n\n    const likePet = (idz) => {\n\n        const newLikes = petLikes + 1\n        setPetLikes(newLikes)\n\n\n        axios.put(`http://localhost:8080/api/pets/${idz}/edit`, {petLikes: newLikes})\n            .then(res => {\n                    console.log(res)\n                    setButtonDisabled(true)\n                }\n            )\n            .catch(err => {\n                console.log(err)\n                setError(err.response.data.errors)\n                console.log(error)\n            })\n    }\n\n\n    return (\n        <div>\n            <div style={styles.topNav}>\n                <h1>Details about {temp}</h1>\n                <button onClick={() => {\n                    deletePet(id)\n                }}>Adopt Pet\n                </button>\n            </div>\n            <p style={styles.newAuthorLink} onClick={() => {\n                navigate(\"/\")\n            }}>Back home</p>\n            <hr/>\n            <div>\n                <div style={styles.petDetails}>\n                    <h4>Pet type:&nbsp; </h4>\n                    <h4>{petType}</h4>\n                </div>\n                <div style={styles.petDetails}>\n                    <h4>Description:&nbsp;</h4>\n                    <h4>{petDescription}</h4>\n                </div>\n                <div style={styles.petDetails}>\n                    <h4>Skills: &nbsp;</h4>\n                    <div>\n                        {petSkills.map((each, idx) => {\n                            return (<h4 key={idx}> {each} </h4>)\n                        })}\n                    </div>\n                </div>\n            </div>\n            <div style={styles.likeArea}>\n                <button onClick={() => {\n                    likePet(id)\n                }} disabled={buttonDisabled}>Like Pet\n                </button>\n                <h4>Likes: {petLikes}</h4>\n            </div>\n        </div>\n    )\n}\n\nexport default ViewPet"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}